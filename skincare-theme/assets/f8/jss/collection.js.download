(function(){/*!******************************!*\
  !*** ./src/js/collection.js ***!
  \******************************/function sortBy(){if(Shopify.queryParams={},location.search.length)for(var params=location.search.substr(1).split("&"),i=0;i<params.length;i++){var keyValue=params[i].split("=");keyValue.length&&(Shopify.queryParams[decodeURIComponent(keyValue[0])]=decodeURIComponent(keyValue[1]))}document.querySelectorAll("#sort-by").forEach(function(sortBy2){sortBy2.addEventListener("change",function(e){var value=e.target.value;Shopify.queryParams.sort_by=value,location.search=new URLSearchParams(Shopify.queryParams).toString()})})}function removeProductCards(){var mobileProductCards=document.querySelector(".js-mobile-cards"),desktopProductCards=document.querySelector(".js-desktop-cards"),windowWidth=window.innerWidth,activeViewport=window.innerWidth<1024?"mobile":"desktop";windowWidth<1024?desktopProductCards==null||desktopProductCards.remove():mobileProductCards==null||mobileProductCards.remove(),window.addEventListener("resize",function(e){var newActiveViewport=window.innerWidth<1024?"mobile":"desktop",newMobileProductCards=document.querySelector(".js-mobile-cards"),newDesktopProductCards=document.querySelector(".js-desktop-cards"),productCardsWrapper=document.querySelector(".js-collection-cards");activeViewport!=newActiveViewport&&(activeViewport=newActiveViewport,activeViewport=="desktop"?(productCardsWrapper==null||productCardsWrapper.appendChild(desktopProductCards),newMobileProductCards==null||newMobileProductCards.remove()):(productCardsWrapper==null||productCardsWrapper.appendChild(mobileProductCards),newDesktopProductCards==null||newDesktopProductCards.remove()))})}var initCollectionLocks=function(){document.addEventListener("DOMContentLoaded",function(){var _window$Shopify,_window$Shopify2,modal=document.querySelector("[data-modal-overlay-bg]"),modalBox=document.querySelector("[data-lock-modal-box]"),modalCloseButton=document.querySelector("[data-close-lock-modal]"),modalContent=document.querySelector("[data-lock-content]"),successButtonsWrapper=document.querySelector("[data-success-buttons]");if(console.log("modal",modal),!modal||!modalContent||!modalBox)return;var successDescription=modalContent.getAttribute("data-success-description"),successTitle=modalContent.getAttribute("data-success-title"),defaultDescription=modalContent.getAttribute("data-default-description"),defaultTitle=modalContent.getAttribute("data-default-title"),pageLockType=modalContent.getAttribute("data-page-lock-type"),collectionHandle=modalContent.getAttribute("data-collection-handle"),localStorageKey="is_collection_unlocked_".concat(collectionHandle),urlParams=new URLSearchParams(window.location.search),isAccessLink=urlParams.get("view")==="access",isUnlocked=localStorage.getItem(localStorageKey)==="true",isCustomerLoggedIn=window.Shopify&&((_window$Shopify=window.Shopify)===null||_window$Shopify===void 0?void 0:_window$Shopify.customer),acceptsMarketing=(_window$Shopify2=window.Shopify)===null||_window$Shopify2===void 0?void 0:_window$Shopify2.accepts_marketing;if(isUnlocked){modal.style.display="none";return}if(isCustomerLoggedIn||localStorage.setItem(localStorageKey,"false"),pageLockType==="Access Link"&&isAccessLink)updateModalContent(successTitle,successDescription,!1),modalBox.classList.remove("opacity-0");else if(pageLockType==="Customer"&&isCustomerLoggedIn)updateModalContent(successTitle,successDescription,!1),modalBox.classList.remove("opacity-0");else if(pageLockType==="Email subscription"&&isCustomerLoggedIn&&acceptsMarketing){updateModalContent(successTitle,successDescription,!1),modalBox.classList.remove("opacity-0");var newsletterEmbededElement=document.querySelector("[data-newsletter-embeded]");newsletterEmbededElement&&(newsletterEmbededElement.style.display="none")}else updateModalContent(defaultTitle,defaultDescription,!0),modalBox.classList.remove("opacity-0");modalCloseButton.addEventListener("click",function(){modal.style.display="none",localStorage.setItem(localStorageKey,"true")});function updateModalContent(title,description,hideSuccessButtons){modalContent.querySelector("h2").textContent=title,modalContent.querySelector("p").textContent=description,successButtonsWrapper.classList.toggle("hidden",hideSuccessButtons)}})};function setupVideoMuteToggle(videoId,buttonId,mutedIconHtml,unmutedIconHtml){var video=document.getElementById(videoId),toggleButton=document.getElementById(buttonId);video&&toggleButton&&(toggleButton.innerHTML=mutedIconHtml,toggleButton.addEventListener("click",function(){video.muted?(video.muted=!1,toggleButton.innerHTML=unmutedIconHtml):(video.muted=!0,toggleButton.innerHTML=mutedIconHtml)}))}function initSwiperForBlock(blockIndex,swiperContainerElement){var featuredCollectionWrapper=swiperContainerElement.closest(".featured-collection-wrapper"),backwardBtn=featuredCollectionWrapper?featuredCollectionWrapper.querySelector(".js-scroll-backward"):null,forwardBtn=featuredCollectionWrapper?featuredCollectionWrapper.querySelector(".js-scroll-forward"):null,progressBar=featuredCollectionWrapper?featuredCollectionWrapper.querySelector(".progress-bar"):null,swiper=new Swiper(swiperContainerElement,{loop:!1,grabCursor:!0,slidesPerView:2,spaceBetween:10,breakpoints:{1024:{slidesPerView:3,spaceBetween:30}},observer:!0,observeParents:!0,on:{slideChange:function(){if(progressBar){var progress=this.realIndex/(this.slides.length-this.params.slidesPerView)*100;progressBar.style.width=Math.min(progress,100)+"%"}backwardBtn&&backwardBtn.classList.toggle("opacity-30",this.isBeginning&&!this.params.loop),forwardBtn&&forwardBtn.classList.toggle("opacity-30",this.isEnd&&!this.params.loop)},init:function(){progressBar&&(progressBar.style.width="0%"),backwardBtn&&backwardBtn.classList.toggle("opacity-30",this.isBeginning&&!this.params.loop),forwardBtn&&forwardBtn.classList.toggle("opacity-30",this.isEnd&&!this.params.loop)}}});backwardBtn&&backwardBtn.addEventListener("click",function(e){e.preventDefault(),swiper.slidePrev()}),forwardBtn&&forwardBtn.addEventListener("click",function(e){e.preventDefault(),swiper.slideNext()})}function initCollectionMediaBlocks(){var _document$getElementB,_document$getElementB2,mutedIconHtml=((_document$getElementB=document.getElementById("volume-muted-icon-template"))===null||_document$getElementB===void 0?void 0:_document$getElementB.innerHTML)||"",unmutedIconHtml=((_document$getElementB2=document.getElementById("volume-unmuted-icon-template"))===null||_document$getElementB2===void 0?void 0:_document$getElementB2.innerHTML)||"";document.querySelectorAll(".featured-collection-wrapper[data-block-index]").forEach(function(blockWrapper){var blockIndex=blockWrapper.dataset.blockIndex,swiperContainer=blockWrapper.querySelector('.swiper[data-swiper-id="collection-media-swiper-'.concat(blockIndex,'"]'));swiperContainer&&initSwiperForBlock(blockIndex,swiperContainer),setupVideoMuteToggle("desktop-background-video-".concat(blockIndex),"desktop-mute-toggle-".concat(blockIndex),mutedIconHtml,unmutedIconHtml),setupVideoMuteToggle("mobile-background-video-".concat(blockIndex),"mobile-mute-toggle-".concat(blockIndex),mutedIconHtml,unmutedIconHtml)})}removeProductCards(),sortBy(),initCollectionLocks(),initCollectionMediaBlocks()})();
//# sourceMappingURL=/cdn/shop/t/274/assets/collection.js.map?v=160048390624522437541765452432
